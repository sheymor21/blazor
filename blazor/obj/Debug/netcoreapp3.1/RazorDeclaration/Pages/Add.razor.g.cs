#pragma checksum "C:\P3\tarea9\Pages\Add.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "f819d4f4c23cc26f1d8fc23ecb4f6ac6d9503056"
// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace tarea9.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\P3\tarea9\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\P3\tarea9\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\P3\tarea9\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\P3\tarea9\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\P3\tarea9\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\P3\tarea9\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\P3\tarea9\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\P3\tarea9\_Imports.razor"
using tarea9;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\P3\tarea9\_Imports.razor"
using tarea9.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\P3\tarea9\_Imports.razor"
using DB;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\P3\tarea9\_Imports.razor"
using sistema;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/add")]
    public partial class Add : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 917 "C:\P3\tarea9\Pages\Add.razor"
 
    int cambio = 1;

    tictac T = new tictac();
    almacen g = new almacen();

    private void backmenu()
    {
        navi.NavigateTo("/menu");
    }

    private void back()
    {
        Console.WriteLine(T.estudio);
        if(cambio == 2)
        {
            cambio = 1;
        }
        else if(cambio == 3)
        {
            cambio = 2;
        }
        else if(cambio == 4)
        {
            cambio =3;
        }
        else if(cambio == 5)
        {
            cambio = 4;
        }
        else if(cambio == 6)
        {
            cambio = 5;
        }
    }

    private void siguiente()
    {
        if(cambio == 1)
        {
            cambio = 2;
        }
        else if(cambio == 2)
        {
            cambio = 3;
        }
        else if(cambio == 3)
        {
            cambio =4;
        }else if(cambio == 4)
        {
            cambio = 5;
        }else if(cambio ==5)
        {
            cambio =6;
        }
    }

    private void registro()
    {
        iglesiaContext db = new iglesiaContext();

        analizis();


        db.Add(new Integrante{
            Nombre = g.Nombre,
            Apellido = g.Apellido,
            Sexo = g.Sexo,
            Fecha_nacimiento = g.Fecha_nacimiento.ToShortDateString(),
            Pais_nacimiento = g.Pais_nacimiento,
            Ciudad_nacimiento = g.Ciudad_nacimiento,
            Pais_residencia = g.Pais_residencia,
            Ciudad_residencia = g.Ciudad_residencia,
            Direccion = g.Direccion,
            Telefono = g.Telefono,
            Celular = g.Celular,
            Correo = g.Correo,
            Tipo_documento = g.Tipo_documento,
            Documento = g.Documento

        });
        db.SaveChanges();
        var ID = db.integrantes.OrderBy(b=>b.integranteId).Last();

        if(!T.casado)
        {
        db.Add(new Datos_familiares{
            Estado = g.Estado,
            Hijos = g.Hijos,
            Pareja = "ninguna",
            N_hijos = 0,
            integranteId = ID.integranteId
            
        });
        }
        else
        {
            db.Add(new Datos_familiares{
            Estado = g.Estado,
            Hijos = g.Hijos,
            Pareja = g.Pareja,
            N_hijos = g.N_hijos,
            integranteId = ID.integranteId
        });
        }

        db.Add(new Datos_laborales{
            Profesion = g.Profesion,
            Empresa_nombre = g.Empresa_nombre,
            Ocupacion_actual= g.Ocupacion_actual,
            Telefono = g.Telefono_empresa,
            integranteId = ID.integranteId
        });

        db.Add(new Datos_eclesiasticos{
            Fecha_aceptacion = g.Fecha_aceptacion.ToShortDateString(),
            Fecha_conversion = g.Fecha_conversion.ToShortDateString(),
            Fecha_bautismo = g.Fecha_bautismo.ToShortDateString(),
            Denominacion_religiosa = g.Denominacion_religiosa,
            Nombre_iglesiaA = g.Nombre_iglesiaA,
            Nombre_pastorA = g.Nombre_pastorA,
            Iglesia_anterior = g.Iglesia_anterior,
            Diciplinado = g.Diciplinado,
            Funcion_religiosa =g.Funcion_religiosa,
            Ministerio_fruto = g.Ministerio_fruto,
            Ministerio_llamado = g.Ministerio_llamado,
            Ministerios_servidos = g.Ministerios_servidos,
            Metas = g.Metas,
            Respaldo_estudios = g.Respaldo_estudios,
            integranteId = ID.integranteId
        });

        db.SaveChanges();
        var EcleId = db.Datos_Eclesiasticos.OrderBy(b=>b.Datos_eclesiasticosId).Last();

        if(T.disciplinado)
        {

        db.Add(new Datos_eclesiasticos_disciplina{
            cantidad = g.cantidad,
            causa = g.causa,
            Datos_eclesiasticosId = EcleId.Datos_eclesiasticosId
        });
        }

        db.Add(new Datos_academicos{
            Nivel = g.Nivel,
            Suspendido = g.Suspendido,
            integranteId = ID.integranteId
        });
        db.SaveChanges();

        var expu = db.Datos_Academicos.OrderBy(b=>b.Datos_academicosId).Last();
        
        db.Add(new Datos_academicos_razon{
            Razon = g.Razon,
            Datos_academicosId = expu.Datos_academicosId

        });

        db.SaveChanges();
        navi.NavigateTo("/menu");
    }

    private void analizis()
    {

        if(T.ocupa)
        {
            g.Funcion_religiosa +=  " Pastor ";
        }
        else if(T.ocupa2)
        { 
            g.Funcion_religiosa += " Anciano ";
        }
        else if(T.ocupa3)
        {
            g.Funcion_religiosa += " Diacono ";
        }
        else if(T.ocupa4)
        {
            g.Funcion_religiosa += " Misionero ";
        }
        else if(T.ocupa5)
        {
            g.Funcion_religiosa += " Lider de Escuela Dominical ";
        }
        else if(T.ocupa6)
        {
            g.Funcion_religiosa += " Lider de Minist. de Jovenes ";
        }
        else if(T.ocupa7)
        {
            g.Funcion_religiosa += " Lider de Minist. de Caballeros ";
        }
        else if(T.ocupa8)
        {
            g.Funcion_religiosa += " Lider de Minist. de Damas" ;
        }
        else if(T.ocupa9)
        {
            g.Funcion_religiosa += " Lider de Minist. de Niños ";
        }
        else if(T.ocupa10)
        {
            g.Funcion_religiosa += " Lider de Minist. de Matrimonios ";
        }
        else if(T.ocupa11)
        {
            g.Funcion_religiosa += " Lider de grupo pequeño ";
        }


    }
     private void cerrar()
    {
        navi.NavigateTo("/");
    }

    private void EstadoCT()
    {
        T.casado = true;
        g.Estado = "Casado";
    }

    private void EstadoCF()
    {
        T.casado = false;
        g.Estado ="Soltero";
    }

    private void HijosT()
    {
        T.hijos = true;
        g.Hijos = "Si";
    }

    private void HijosF()
    {
        T.hijos = false;
        g.Hijos = "No";
    }

    private void disciplinaT()
    {
        T.disciplinado = true;
        g.Diciplinado = "Si";
    }

    private void disciplinaF()
    {
        T.disciplinado = false;
        g.Diciplinado = "No";
    }

    private void sexoH()
    {
        g.Sexo = "M";
    }

    private void sexoF()
    {
        g.Sexo = "F";
    }

    private void docuC()
    {
        g.Tipo_documento = "Cedula";
    }

    private void docuP()
    {
        g.Tipo_documento = "Pasaporte";
    }

    private void docuD()
    {
        g.Tipo_documento = "DNI";
    }

    private void estudioT()
    {
        g.Respaldo_estudios = "Si";
    }

    private void estudioF()
    {
        g.Respaldo_estudios = "No";
    }

    private void expulT()
    {
        g.Suspendido = "Si";
    }

    private void expulF()
    {
        g.Suspendido = "No";
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager navi { get; set; }
    }
}
#pragma warning restore 1591
